var InstructStage=function(){function u(t){"mousedown"===t.type?(l.gotoAndStop("btnOkDown"),e.getSound("beep").play()):(l.gotoAndStop("btnOkUp"),5===r?(o.removeChild(l),a.flyOffStage(v)):o.dispatchEvent(n))}function v(){s.setMoving(!1),o.dispatchEvent(n)}var e=window.assetManager,t=window.root,a=window.spaceShip,s=window.background,n=new createjs.Event("onStageComplete",!0),r=1,i=!1,o=new createjs.Container;o.snapToPixelEnabled=!0;var l=e.getSprite("assets","btnOkUp",0,0,!1);l.addEventListener("mousedown",u),l.addEventListener("pressup",u),o.addChild(l);var c=e.getSprite("assets","astronautHead",0,0,!1),d=e.getSprite("assets","astronautWaving"),g=e.getSprite("assets","instructBubble1",0,0,!1);this.showMe=function(){switch(s.setMoving(!1),r){case 1:d.play(),d.x=327,d.y=500,o.addChild(d),g.x=65,g.y=130,g.gotoAndStop("instructBubble1"),l.x=255,l.y=795,o.addChild(g),createjs.Tween.get(d,{loop:!0}).to({y:d.y+20},4e3).to({y:d.y},4e3);break;case 2:c.x=200,c.y=500,c.rotation=45,o.addChild(c),g.x=50,g.y=50,g.gotoAndStop("instructBubble2"),l.x=255,l.y=795,o.addChild(g),createjs.Tween.get(c,{loop:!0}).to({y:c.y+40},3e3).to({y:c.y},3e3);break;case 3:c.x=500,c.y=150,c.rotation=220,o.addChild(c),g.x=25,g.y=450,g.gotoAndStop("instructBubble3"),l.x=255,l.y=795,o.addChild(g),createjs.Tween.get(c,{loop:!0}).to({y:c.y+20},3e3).to({y:c.y},3e3);break;case 4:s.setMoving(!0),a.toggleTurret(!0),a.toggleThrust(!0),a.showMeOn(o,235,970),a.flyOnStage(),g.x=70,g.y=35,g.gotoAndStop("instructBubble4"),l.x=255,l.y=235,o.addChild(g);break;default:return r=1,i&&(r=4),void this.showMe()}o.addChild(l),t.addChild(o),r++,e.getSound("instructions").play()},this.hideMe=function(){d.stop(),createjs.Tween.removeAllTweens(),o.removeAllChildren(),t.removeChild(o)},this.setExpertMode=function(e){r=4,i=e}};
