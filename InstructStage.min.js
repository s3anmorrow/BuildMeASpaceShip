var InstructStage=function(){function v(t){"mousedown"===t.type?(d.gotoAndStop("btnOkDown"),e.getSound("beep").play()):(d.gotoAndStop("btnOkUp"),5===o?(i.removeChild(d),a.flyOffStage(u)):i.dispatchEvent(r))}function u(){n.setMoving(!1),i.dispatchEvent(r)}var e=window.assetManager,t=window.root,a=window.spaceShip,n=window.background,r=new createjs.Event("onStageComplete",!0),o=1,s=!1,i=new createjs.Container;i.snapToPixelEnabled=!0;var d=e.getSprite("assets","btnOkUp",0,0,!1);d.addEventListener("mousedown",v),d.addEventListener("pressup",v),i.addChild(d);var l=e.getSprite("assets","astronautHead",0,0,!1),g=e.getSprite("assets","astronautWaving"),c=e.getSprite("assets","instructBubble1",0,0,!1);this.showMe=function(){switch(n.setMoving(!1),o){case 1:g.play(),g.x=327,g.y=500,i.addChild(g),c.x=65,c.y=130,c.gotoAndStop("instructBubble1"),d.x=255,d.y=795,i.addChild(c),createjs.Tween.get(g,{loop:!0}).to({y:g.y+20},4e3).to({y:g.y},4e3);break;case 2:l.x=200,l.y=500,l.rotation=45,i.addChild(l),c.x=50,c.y=50,c.gotoAndStop("instructBubble2"),d.x=255,d.y=795,i.addChild(c),createjs.Tween.get(l,{loop:!0}).to({y:l.y+40},3e3).to({y:l.y},3e3);break;case 3:l.x=500,l.y=150,l.rotation=220,i.addChild(l),c.x=25,c.y=450,c.gotoAndStop("instructBubble3"),d.x=255,d.y=795,i.addChild(c),createjs.Tween.get(l,{loop:!0}).to({y:l.y+20},3e3).to({y:l.y},3e3);break;case 4:n.setMoving(!0),a.toggleTurret(!0),a.toggleThrust(!0),a.showMeOn(i,235,970),a.flyOnStage(),c.x=70,c.y=35,c.gotoAndStop("instructBubble4"),d.x=255,d.y=235,i.addChild(c);break;default:return o=1,s&&(o=4),void this.showMe()}i.addChild(d),t.addChild(i),o++,e.getSound("instructions").play()},this.hideMe=function(){g.stop(),createjs.Tween.removeAllTweens(),i.removeAllChildren(),t.removeChild(i)},this.setExpertMode=function(e){o=4,s=e}};