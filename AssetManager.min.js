var AssetManager=function(){function d(e){switch(console.log("asset loaded: "+e.item.src+" type: "+e.item.type+" id: "+e.item.id),e.item.type){case createjs.LoadQueue.IMAGE:var t=e.item.id,r=e.result,i=n[t];void 0===i&&console.log("ASSETMANAGER ERROR > JSON not defined for spritesheet - Check manifest [JSON must be listed before spritesheet image]"),i.images=[r];var d=new createjs.SpriteSheet(i);a[t]=d;break;case createjs.LoadQueue.JSON:var l=e.item.spritesheet;n[l]=e.result;break;case createjs.LoadQueue.SOUND:if(mobile){var t=e.item.id,g=e.item.src;s[t]="/android_asset/www/"+g}}stage.dispatchEvent(o)}function l(e){t=e.progress}function g(){console.log("ASSETMANAGER ERROR > Error Loading asset")}function c(){console.log("All assets loaded"),n=null,r.removeEventListener("fileload",d),r.removeEventListener("progress",l),r.removeEventListener("error",g),r.removeEventListener("complete",c),stage.dispatchEvent(i)}var e=null,t=0,a=[],s=[],n=[],r=new createjs.LoadQueue,o=new createjs.Event("onAssetLoaded"),i=new createjs.Event("onAllAssetsLoaded");this.getSprite=function(e,t,s,n,r){var o=new createjs.Sprite(a[e]);return o.name=e,o.x=void 0==s?0:s,o.y=void 0==n?0:n,o.currentFrame=0,void 0!=t&&o.gotoAndStop(t),void 0==r||r||(o.tickEnabled=!1),o},this.getSound=function(e){if(mobile){var t=new Media(s[e],function(){t.release()});return t}return createjs.Sound.createInstance(e)},this.getProgress=function(){return t},this.getSpriteSheet=function(e){return a[e]},this.loadAssets=function(t){e=t,mobile||(createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]),createjs.Sound.alternateExtensions=["ogg"],r.installPlugin(createjs.Sound)),r.addEventListener("fileload",d),r.addEventListener("progress",l),r.addEventListener("error",g),r.addEventListener("complete",c),r.setMaxConnections(5),r.loadManifest(e)}};
