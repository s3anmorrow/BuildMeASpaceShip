var AssetManager=function(){function d(e){switch(console.log("asset loaded: "+e.item.src+" type: "+e.item.type+" id: "+e.item.id),e.item.type){case createjs.LoadQueue.IMAGE:var t=e.item.id,a=e.result,o=s[t];void 0===o&&console.log("ASSETMANAGER ERROR > JSON not defined for spritesheet - Check manifest [JSON must be listed before spritesheet image]"),o.images=[a];var d=new createjs.SpriteSheet(o);n[t]=d;break;case createjs.LoadQueue.JSON:var l=e.item.spritesheet;s[l]=e.result;break;case createjs.LoadQueue.SOUND:if(mobile){var t=e.item.id,u=e.item.src;r[t]="/android_asset/www/"+u}}stage.dispatchEvent(i)}function l(e){t=e.progress}function u(){console.log("ASSETMANAGER ERROR > Error Loading asset")}function v(){console.log("All assets loaded"),s=null,a.removeEventListener("fileload",d),a.removeEventListener("progress",l),a.removeEventListener("error",u),a.removeEventListener("complete",v),stage.dispatchEvent(o)}var e=null,t=0,n=[],r=[],s=[],a=new createjs.LoadQueue,i=new createjs.Event("onAssetLoaded"),o=new createjs.Event("onAllAssetsLoaded");this.getSprite=function(e,t,r,s,a){var i=new createjs.Sprite(n[e]);return i.name=e,i.x=void 0==r?0:r,i.y=void 0==s?0:s,i.currentFrame=0,void 0!=t&&i.gotoAndStop(t),void 0==a||a||(i.tickEnabled=!1),i},this.getSound=function(e){if(mobile){var t=new Media(r[e],function(){t.release()});return t}return createjs.Sound.createInstance(e)},this.getProgress=function(){return t},this.getSpriteSheet=function(e){return n[e]},this.loadAssets=function(t){e=t,mobile||(createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]),createjs.Sound.alternateExtensions=["ogg"],a.installPlugin(createjs.Sound)),a.addEventListener("fileload",d),a.addEventListener("progress",l),a.addEventListener("error",u),a.addEventListener("complete",v),a.setMaxConnections(1),a.loadManifest(e)}};