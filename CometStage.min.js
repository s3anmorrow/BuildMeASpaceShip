var CometStage=function(){function h(e){g=e.stageX}function S(){w.gotoAndPlay("comet"+o(1,3)),w.y=-150,w.x=o(130,470),w.speed=e,w.active=!0,w.soundPlayed=!1,f.addChild(w),a.getSound("comet").play(),c++}function m(){u=!0,S()}function C(){f.dispatchEvent(v)}var e=8,t=5,a=window.assetManager,n=window.root,r=window.spaceShip,o=window.randomMe,s=window.BASE_WIDTH,i=window.BASE_HEIGHT,d=window.background.getSprite(),l=stage.canvas.width,v=new createjs.Event("onStageComplete",!0),u=!1,c=0,g=0,f=new createjs.Container;f.snapToPixelEnabled=!0;var p=new createjs.Container,w=a.getSprite("assets","comet1");w.active=!1,this.showMe=function(){r.showMeOn(f,100,970),r.flyOnStage(m),r.toggleTurret(!1),g=192*l/s,background.setMoving(!0),d.addEventListener("mousedown",h),d.addEventListener("pressmove",h),f.addChild(p),n.addChild(f)},this.hideMe=function(){u=!1,c=0,moveDir=0,g=0,w.active=!1,f.removeChild(w),n.removeChild(f)},this.updateMe=function(){u&&(w.active&&(w.y+=w.speed,createjs.Ticker.getTicks()%4==0&&r.scorchMe(w,p),w.y>i+220&&(w.active=!1,f.removeChild(w),c>=t?(d.removeEventListener("mousedown",h),d.removeEventListener("pressmove",h),r.flyOffStage(C)):S())),r.moveMe(g))}};