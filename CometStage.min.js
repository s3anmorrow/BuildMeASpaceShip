var CometStage=function(){function S(e){v=e.stageX}function w(){f.gotoAndPlay("comet"+r(1,3)),f.y=-150,f.x=r(130,470),f.speed=e,f.active=!0,f.soundPlayed=!1,p.addChild(f),a.getSound("comet").play(),u++}function m(){g=!0,w()}function b(){p.dispatchEvent(c)}var e=8,t=5,a=window.assetManager,n=window.root,s=window.spaceShip,r=window.randomMe,i=window.BASE_WIDTH,o=window.BASE_HEIGHT,l=window.background.getSprite(),d=stage.canvas.width,c=new createjs.Event("onStageComplete",!0),g=!1,u=0,v=0,p=new createjs.Container;p.snapToPixelEnabled=!0;var h=new createjs.Container,f=a.getSprite("assets","comet1");f.active=!1,this.showMe=function(){s.showMeOn(p,100,970),s.flyOnStage(m),s.toggleTurret(!1),v=192*d/i,background.setMoving(!0),l.addEventListener("mousedown",S),l.addEventListener("pressmove",S),p.addChild(h),n.addChild(p)},this.hideMe=function(){g=!1,u=0,moveDir=0,v=0,f.active=!1,p.removeChild(f),n.removeChild(p)},this.updateMe=function(){g&&(f.active&&(f.y+=f.speed,createjs.Ticker.getTicks()%4==0&&s.scorchMe(f,h),f.y>o+220&&(f.active=!1,p.removeChild(f),u>=t?(l.removeEventListener("mousedown",S),l.removeEventListener("pressmove",S),s.flyOffStage(b)):w())),s.moveMe(v))}};
