var AstronautStage=function(){function g(){e.getSound("saveAstronaut").play()}function p(e){d=e.stageY,u.removeChild(f)}function w(){l=!0,r.toggleCockpit(!0),r.toggleThrust(!1),u.addChild(f),v=(r.getCockpitLocation()-10)/i*s,n.addEventListener("mousedown",g),n.addEventListener("pressmove",p)}function h(){createjs.Tween.removeAllTweens(),u.dispatchEvent(o)}var e=window.assetManager,t=window.root,r=window.spaceShip,a=window.background,n=window.background.getSprite(),s=window.BASE_HEIGHT,i=stage.canvas.height,o=new createjs.Event("onStageComplete",!0),l=!1,d=0,v=0,u=new createjs.Container;u.snapToPixelEnabled=!0;var c=e.getSprite("assets","astronautWaving"),f=e.getSprite("assets","instructBubble10",50,150,!1);this.showMe=function(){r.showMeOn(u,232,970),r.flyOnStage(w),c.x=337,c.y=150,c.gotoAndPlay("astronautWaving"),u.addChild(c),d=c.y*i/s,createjs.Tween.get(c,{loop:!0}).to({x:c.x-20},4e3).to({x:c.x},4e3),a.setMoving(!1),t.addChild(u)},this.hideMe=function(){l=!1,c.stop(),d=0,v=0,createjs.Tween.removeAllTweens(),t.removeChild(u)},this.updateMe=function(){if(l){var e=d/i*s,t=c.y-e;if(t>-6&&6>t)return;c.y<e?c.y+=6:c.y-=6,c.y>v&&(r.toggleCockpit(!1),u.removeChild(c),r.toggleThrust(!0),r.flyOffStage(h),n.removeEventListener("mousedown",g),n.removeEventListener("pressmove",p),l=!1)}}};