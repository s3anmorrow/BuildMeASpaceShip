var ColorStage=function(){function A(e,t){var a=u.globalToLocal(e,t);i.x=a.x,i.y=a.y,u.graphics.setStrokeStyle(o,"round","round"),u.graphics.beginStroke(s),u.graphics.moveTo(d.x,d.y),u.graphics.lineTo(i.x,i.y),d.x=i.x,d.y=i.y,u.updateCache("source-overlay"),u.graphics.clear()}function T(t){s!==t.target.color&&(s=t.target.color,h.gotoAndStop("btnRedUp"),S.gotoAndStop("btnGreenUp"),m.gotoAndStop("btnYellowUp"),C.gotoAndStop("btnBlueUp"),b.gotoAndStop("btnPurpleUp"),E.gotoAndStop("btnOrangeUp"),t.target.gotoAndStop(t.target.label+"Down"),w.gotoAndStop(t.target.label+"Instruct"),e.getSound("colorChange").play())}function L(e){var t=u.globalToLocal(e.stageX,e.stageY);d.x=t.x,d.y=t.y,A(e.stageX,e.stageY)}function j(e){A(e.stageX,e.stageY)}function M(t){if("mousedown"===t.type)y.gotoAndStop("btnOkDown"),e.getSound("beep").play();else{if(y.gotoAndStop("btnOkUp"),2===v)return n.unFocusOnParts(),createjs.Tween.removeAllTweens(),void c.dispatchEvent(r);v++,u=n.getColorCanvas(l[v]),n.focusOnPart(l[v])}}var e=window.assetManager,t=window.root,a=window.background.getSprite(),n=window.spaceShip,r=new createjs.Event("onStageComplete",!0),o=40,s="#990000",i=new createjs.Point,d=new createjs.Point,l=["fuselage","wings","tail"],v=0,u=null,c=new createjs.Container;c.snapToPixelEnabled=!0;var g=e.getSprite("assets","constructionBar");g.y=150,c.addChild(g);var p=e.getSprite("assets","constructionBar");p.y=720,c.addChild(p);var f=e.getSprite("assets","astronautWaving",60,380);f.rotation=45,c.addChild(f);var w=e.getSprite("assets","btnRedInstruct",50,220,!1),h=e.getSprite("assets","btnRedDown",25,30,!1);h.color="#990000",h.label="btnRed",h.addEventListener("click",T),c.addChild(h);var S=e.getSprite("assets","btnGreenUp",125,30,!1);S.color="#006600",S.label="btnGreen",S.addEventListener("click",T),c.addChild(S);var m=e.getSprite("assets","btnYellowUp",225,30,!1);m.color="#FFCC00",m.label="btnYellow",m.addEventListener("click",T),c.addChild(m);var C=e.getSprite("assets","btnBlueUp",325,30,!1);C.color="#0033CC",C.label="btnBlue",C.addEventListener("click",T),c.addChild(C);var b=e.getSprite("assets","btnPurpleUp",425,30,!1);b.color="#663399",b.label="btnPurple",b.addEventListener("click",T),c.addChild(b);var E=e.getSprite("assets","btnOrangeUp",525,30,!1);E.color="#CC6600",E.label="btnOrange",E.addEventListener("click",T),c.addChild(E);var y=e.getSprite("assets","btnOkUp",255,795,!1);y.addEventListener("mousedown",M),y.addEventListener("pressup",M),c.addChild(y),this.showMe=function(){a.addEventListener("mousedown",L),a.addEventListener("pressmove",j),v=0,u=n.getColorCanvas(l[v]),n.focusOnPart(l[v]),s="#990000",w.gotoAndStop("btnRedInstruct"),S.gotoAndStop("btnGreenUp"),m.gotoAndStop("btnYellowUp"),C.gotoAndStop("btnBlueUp"),b.gotoAndStop("btnPurpleUp"),E.gotoAndStop("btnOrangeUp"),h.gotoAndStop("btnRedDown"),f.y=380,createjs.Tween.get(f,{loop:!0}).to({y:f.y-10},4e3).to({y:f.y},4e3),n.showMeOn(c,235,230),c.addChild(w),t.addChild(c)},this.hideMe=function(){a.removeEventListener("mousedown",L),a.removeEventListener("pressmove",j),createjs.Tween.removeAllTweens(),t.removeChild(c)}};