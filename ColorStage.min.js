var ColorStage=function(){function j(e,t){var a=g.globalToLocal(e,t);i.x=a.x,i.y=a.y,g.graphics.setStrokeStyle(s,"round","round"),g.graphics.beginStroke(o),g.graphics.moveTo(l.x,l.y),g.graphics.lineTo(i.x,i.y),l.x=i.x,l.y=i.y,g.updateCache("source-overlay"),g.graphics.clear()}function A(t){o!==t.target.color&&(o=t.target.color,S.gotoAndStop("btnRedUp"),w.gotoAndStop("btnGreenUp"),m.gotoAndStop("btnYellowUp"),b.gotoAndStop("btnBlueUp"),y.gotoAndStop("btnPurpleUp"),C.gotoAndStop("btnOrangeUp"),t.target.gotoAndStop(t.target.label+"Down"),f.gotoAndStop(t.target.label+"Instruct"),e.getSound("colorChange").play())}function x(e){var t=g.globalToLocal(e.stageX,e.stageY);l.x=t.x,l.y=t.y,j(e.stageX,e.stageY)}function T(e){j(e.stageX,e.stageY)}function k(t){if("mousedown"===t.type)E.gotoAndStop("btnOkDown"),e.getSound("beep").play();else{if(E.gotoAndStop("btnOkUp"),2===c)return n.unFocusOnParts(),createjs.Tween.removeAllTweens(),void u.dispatchEvent(r);c++,g=n.getColorCanvas(d[c]),n.focusOnPart(d[c])}}var e=window.assetManager,t=window.root,a=window.background.getSprite(),n=window.spaceShip,r=new createjs.Event("onStageComplete",!0),s=40,o="#990000",i=new createjs.Point,l=new createjs.Point,d=["fuselage","wings","tail"],c=0,g=null,u=new createjs.Container;u.snapToPixelEnabled=!0;var v=e.getSprite("assets","constructionBar");v.y=150,u.addChild(v);var p=e.getSprite("assets","constructionBar");p.y=720,u.addChild(p);var h=e.getSprite("assets","astronautWaving",60,380);h.rotation=45,u.addChild(h);var f=e.getSprite("assets","btnRedInstruct",50,220,!1),S=e.getSprite("assets","btnRedDown",25,30,!1);S.color="#990000",S.label="btnRed",S.addEventListener("click",A),u.addChild(S);var w=e.getSprite("assets","btnGreenUp",125,30,!1);w.color="#006600",w.label="btnGreen",w.addEventListener("click",A),u.addChild(w);var m=e.getSprite("assets","btnYellowUp",225,30,!1);m.color="#FFCC00",m.label="btnYellow",m.addEventListener("click",A),u.addChild(m);var b=e.getSprite("assets","btnBlueUp",325,30,!1);b.color="#0033CC",b.label="btnBlue",b.addEventListener("click",A),u.addChild(b);var y=e.getSprite("assets","btnPurpleUp",425,30,!1);y.color="#663399",y.label="btnPurple",y.addEventListener("click",A),u.addChild(y);var C=e.getSprite("assets","btnOrangeUp",525,30,!1);C.color="#CC6600",C.label="btnOrange",C.addEventListener("click",A),u.addChild(C);var E=e.getSprite("assets","btnOkUp",255,795,!1);E.addEventListener("mousedown",k),E.addEventListener("pressup",k),u.addChild(E),this.showMe=function(){a.addEventListener("mousedown",x),a.addEventListener("pressmove",T),c=0,g=n.getColorCanvas(d[c]),n.focusOnPart(d[c]),o="#990000",f.gotoAndStop("btnRedInstruct"),w.gotoAndStop("btnGreenUp"),m.gotoAndStop("btnYellowUp"),b.gotoAndStop("btnBlueUp"),y.gotoAndStop("btnPurpleUp"),C.gotoAndStop("btnOrangeUp"),S.gotoAndStop("btnRedDown"),h.y=380,createjs.Tween.get(h,{loop:!0}).to({y:h.y-10},4e3).to({y:h.y},4e3),n.showMeOn(u,235,230),u.addChild(f),t.addChild(u)},this.hideMe=function(){a.removeEventListener("mousedown",x),a.removeEventListener("pressmove",T),createjs.Tween.removeAllTweens(),t.removeChild(u)}};
